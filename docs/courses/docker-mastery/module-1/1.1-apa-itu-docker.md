# 1.1 Apa itu Docker?

!!! quote "Definisi"
**Docker** adalah platform containerization yang memungkinkan developer untuk mengemas aplikasi beserta semua dependencies-nya ke dalam unit yang portabel dan ringan yang disebut **container**.

## ðŸ¤” Mengapa Docker Penting?

Pernahkah Anda mengalami situasi seperti ini?

-   **"Di komputer saya bisa jalan!"** - Aplikasi berjalan di development tapi error di production
-   **Setup yang rumit** - Butuh waktu berjam-jam untuk setup environment baru
-   **Konflik dependencies** - Python versi berbeda, library yang bentrok
-   **Resource boros** - Virtual machine yang berat untuk aplikasi sederhana

Docker hadir untuk menyelesaikan masalah-masalah ini! ðŸš€

## ðŸ—ï¸ Arsitektur Docker

### Sebelum Docker: Virtual Machines

```mermaid
graph TB
    A[Hardware] --> B[Host OS]
    B --> C[Hypervisor]
    C --> D[Guest OS 1]
    C --> E[Guest OS 2]
    C --> F[Guest OS 3]
    D --> G[App 1]
    E --> H[App 2]
    F --> I[App 3]
```

**Masalah VM:**

-   Setiap VM butuh OS lengkap
-   Konsumsi resource tinggi
-   Boot time lambat
-   Overhead yang besar

### Dengan Docker: Containerization

```mermaid
graph TB
    A[Hardware] --> B[Host OS]
    B --> C[Docker Engine]
    C --> D[Container 1]
    C --> E[Container 2]
    C --> F[Container 3]
    D --> G[App 1]
    E --> H[App 2]
    F --> I[App 3]
```

**Keunggulan Docker:**

-   Share kernel OS host
-   Resource usage minimal
-   Start dalam hitungan detik
-   Isolation yang aman

## ðŸ“¦ Konsep Dasar Docker

### 1. **Container**

Container adalah instance yang berjalan dari sebuah Docker image.

!!! example "Analogi"
Bayangkan container seperti **apartemen**:

    - Setiap apartemen punya ruang sendiri (isolated)
    - Share infrastruktur gedung (kernel)
    - Bisa pindah ke gedung lain (portabel)
    - Lebih efisien dari rumah terpisah (VM)

### 2. **Image**

Image adalah template read-only yang berisi instruksi untuk membuat container.

!!! example "Analogi"
Image seperti **blueprint apartemen**:

    - Berisi rancangan lengkap
    - Bisa digunakan berkali-kali
    - Tidak berubah (immutable)
    - Dasar untuk membangun container

### 3. **Dockerfile**

File teks yang berisi instruksi untuk membangun Docker image.

```dockerfile title="Contoh Dockerfile"
# Gunakan base image Python
FROM python:3.9-slim

# Set working directory
WORKDIR /app

# Copy requirements
COPY requirements.txt .

# Install dependencies
RUN pip install -r requirements.txt

# Copy aplikasi
COPY . .

# Ekspose port
EXPOSE 8000

# Jalankan aplikasi
CMD ["python", "app.py"]
```

### 4. **Docker Registry**

Tempat penyimpanan dan distribusi Docker images.

**Contoh Registry:**

-   **Docker Hub** - Registry publik terbesar
-   **GitHub Container Registry** - Terintegrasi dengan GitHub
-   **Amazon ECR** - Registry AWS
-   **Private Registry** - Registry internal perusahaan

## ðŸ”„ Docker Workflow

```mermaid
graph LR
    A[Dockerfile] --> B[Build Image]
    B --> C[Push to Registry]
    C --> D[Pull Image]
    D --> E[Run Container]
    E --> F[Running App]
```

### Step-by-Step:

1. **Write** - Tulis Dockerfile dengan instruksi
2. **Build** - Build image dari Dockerfile
3. **Push** - Upload image ke registry
4. **Pull** - Download image dari registry
5. **Run** - Jalankan container dari image

## ðŸ’¡ Keunggulan Docker

### ðŸš€ **Portabilitas**

```bash
# Jalan di mana saja
docker run myapp
```

-   Sama di development, staging, production
-   Cross-platform: Linux, Windows, macOS
-   Cloud agnostic: AWS, Azure, GCP

### âš¡ **Efisiensi**

| Aspek            | Virtual Machine | Docker Container |
| ---------------- | --------------- | ---------------- |
| **Startup Time** | 1-2 menit       | 1-2 detik        |
| **Memory Usage** | GB              | MB               |
| **Disk Space**   | GB              | MB               |
| **Performance**  | Overhead tinggi | Near-native      |

### ðŸ”„ **Konsistensi**

!!! success "Benefit" - Environment yang sama di semua stage - Eliminasi "works on my machine" syndrome - Dependency hell solved

### ðŸ“ˆ **Skalabilitas**

```bash
# Scale horizontal dengan mudah
docker run -d --name web1 myapp
docker run -d --name web2 myapp
docker run -d --name web3 myapp
```

## ðŸ› ï¸ Use Cases Docker

### 1. **Microservices Architecture**

```mermaid
graph TB
    A[Load Balancer] --> B[User Service]
    A --> C[Order Service]
    A --> D[Payment Service]
    B --> E[Database]
    C --> F[Database]
    D --> G[Database]
```

Setiap service berjalan di container terpisah.

### 2. **CI/CD Pipeline**

```yaml title=".github/workflows/deploy.yml"
- name: Build Docker Image
  run: docker build -t myapp:${{ github.sha }} .

- name: Push to Registry
  run: docker push myapp:${{ github.sha }}

- name: Deploy to Production
  run: docker run -d myapp:${{ github.sha }}
```

### 3. **Development Environment**

```bash
# Setup database untuk development
docker run -d --name postgres \
  -e POSTGRES_PASSWORD=secret \
  postgres:13

# Aplikasi langsung konek ke database
docker run --link postgres myapp
```

### 4. **Application Packaging**

Distribusi aplikasi jadi lebih mudah:

```bash
# User cukup jalankan satu command
docker run -p 8080:80 myapp
```

## ðŸŽ¯ Docker vs Alternatif Lain

| Technology  | Isolation      | Performance | Startup | Use Case            |
| ----------- | -------------- | ----------- | ------- | ------------------- |
| **Docker**  | Process-level  | Excellent   | Seconds | Apps, Microservices |
| **VM**      | Hardware-level | Good        | Minutes | Legacy, Full OS     |
| **LXC/LXD** | OS-level       | Excellent   | Seconds | System Containers   |
| **Podman**  | Process-level  | Excellent   | Seconds | Rootless Containers |

## âœ… Checklist Pemahaman

Setelah membaca materi ini, Anda harus bisa menjawab:

-   [ ] Apa perbedaan utama container dan VM?
-   [ ] Apa itu Docker image dan container?
-   [ ] Mengapa Docker lebih efisien dari VM?
-   [ ] Apa fungsi Dockerfile?
-   [ ] Bagaimana workflow Docker secara umum?
-   [ ] Apa keunggulan utama Docker?

## ðŸŽ‰ Rangkuman

!!! summary "Key Takeaways"
**Docker** adalah teknologi containerization yang memungkinkan:

    âœ… **Portabilitas** - Jalan di mana saja
    âœ… **Efisiensi** - Resource usage minimal
    âœ… **Konsistensi** - Environment yang sama
    âœ… **Skalabilitas** - Mudah di-scale
    âœ… **Isolasi** - Aplikasi terpisah aman

## ðŸš€ Langkah Selanjutnya

Sekarang Anda sudah memahami konsep dasar Docker! Waktunya untuk:

1. [**Setup dan Instalasi Docker â†’**](1.2-setup-dan-instalasi.md)
2. Practice dengan container pertama Anda
3. Explore Docker Hub untuk melihat image yang tersedia

---

!!! tip "Pro Tip"
Jangan hanya baca teori - langsung practice! Docker adalah skill yang harus dipraktekkan untuk benar-benar memahaminya. ðŸ’ª

!!! info "Trivia"
Docker dibuat oleh Solomon Hykes di dotCloud (sekarang Docker Inc.) pada tahun 2013. Nama "Docker" berasal dari "dock worker" - pekerja yang memuat dan membongkar container di pelabuhan! ðŸš¢
